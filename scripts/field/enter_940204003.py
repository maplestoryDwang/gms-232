# id 940204003 (Morass : Trueffet Square), field 940204003
sm.lockInGameUI(True, False)
sm.removeAdditionalEffect()
sm.hideUser(True)
sm.blind(True, 255, 0, 0, 0, 0)
sm.zoomCamera(0, 1000, 0, 475, -500)
sm.spawnNpc(3003406, -800, -50)
sm.showNpcSpecialActionByTemplateId(3003406, "summon", 0)
sm.spawnNpc(3003400, -100, -50)
sm.showNpcSpecialActionByTemplateId(3003400, "summon", 0)
sm.spawnNpc(3003408, 436, -400)
sm.showNpcSpecialActionByTemplateId(3003408, "summon", 0)
sm.spawnNpc(3003408, 250, -50)
sm.showNpcSpecialActionByTemplateId(3003408, "summon", 0)
sm.spawnNpc(3003408, 580, -150)
sm.showNpcSpecialActionByTemplateId(3003408, "summon", 0)
sm.spawnNpc(3003408, 180, -50)
sm.showNpcSpecialActionByTemplateId(3003408, "summon", 0)
sm.spawnNpc(3003451, 706, -50)
sm.showNpcSpecialActionByTemplateId(3003451, "summon", 0)
sm.spawnNpc(3003451, 646, -50)
sm.showNpcSpecialActionByTemplateId(3003451, "summon", 0)
sm.spawnNpc(3003411, 50, -50)
sm.showNpcSpecialActionByTemplateId(3003411, "summon", 0)
sm.spawnNpc(3003414, 100, -50)
sm.showNpcSpecialActionByTemplateId(3003414, "summon", 0)
sm.sendDelay(1000)
sm.blind(False, 0, 0, 0, 0, 1500)
sm.sendDelay(100)
sm.zoomCamera(3000, 1000, 3000, 475, -50)
sm.setSpeakerType(3)
sm.setParam(37)
sm.setColor(1)
sm.setInnerOverrideSpeakerTemplateID(3003408) # Researcher
sm.sendNext("#face0#All right, bring it down a bit!")
sm.sendDelay(2000)
sm.sendNext("#face0#Careful... careful...")
sm.sendDelay(500)
sm.showFadeTransition(0, 1000, 3000)
sm.zoomCamera(1300, 1500, 1300, -160, -20)
sm.moveNpcByTemplateId(3003406, False, 400, 180)
sm.sendDelay(500)
sm.removeOverlapScreen(1000)
sm.sendDelay(2000)
sm.setInnerOverrideSpeakerTemplateID(3003406) # Jean
sm.sendNext("#face0#All that work for no payoff. And now I'm hungry too!")
sm.sendSay("#face0#Hmm...")
sm.sendSay("#face11#Another traveler... Maybe I can scrounge up a meal after all.")
sm.moveNpcByTemplateId(3003406, False, 180, 180)
sm.sendDelay(1700)
sm.playSound("Sound/SoundEff.img/omega/hit", 100)
sm.changeBGM("Bgm00.img/Silence", 0, 0)
sm.flipNpcByTemplateId(3003400, True)
sm.sendDelay(200)
sm.blind(True, 255, 0, 0, 0, 150)
sm.onLayer(150, "1", 0, -80, 12, "Map/Effect3.img/morass/Tana/0", 4, True, -1, False)
sm.sendNext("#face0#Huh?")
sm.setInnerOverrideSpeakerTemplateID(3003400) # Tana
sm.sendSay("#face10#You... ")
sm.sendSay("#face10##fs20##rI didn't expect you.#k")
sm.setInnerOverrideSpeakerTemplateID(3003406) # Jean
sm.sendSay("#face1#Wh-what does that mean...?")
sm.sendDelay(1000)
sm.offLayer(150, "1", False)
sm.blind(False, 0, 0, 0, 0, 150)
sm.setInnerOverrideSpeakerTemplateID(3003408) # Researcher
sm.sendNext("#face0#Wait! Stop! The rope's fraying!")
sm.playSound("Sound/SoundEff.img/morass/rope", 100)
sm.sendDelay(200)
sm.flipNpcByTemplateId(3003400, False)
sm.sendDelay(200)
sm.zoomCamera(300, 2000, 300, 463, -600)
sm.sendDelay(300)
sm.sendNext("#face0#It's about to snap!! Take cover!")
sm.sendDelay(100)
sm.playSound("Sound/SoundEff.img/morass/acident", 100)
sm.sendDelay(500)
sm.zoomCamera(300, 2000, 300, 463, -50)
sm.sendDelay(1500)
sm.blind(True, 255, 0, 0, 0, 300)
sm.blind(True, 255, 240, 240, 240, 1300)
sm.sendDelay(1600)
sm.sendDelay(300)
sm.spineScreen(False, False, True, 0, "Map/Effect3.img/morass/spine/tanapush/skeleton","animation","push")
sm.playSound("Sound/SoundEff.img/morass/tana3", 100)
sm.sendDelay(1000)
sm.setInnerOverrideSpeakerTemplateID(3003406) # Jean
sm.sendNext("#face1#Ahhhhh!")
sm.blind(True, 255, 240, 240, 240, 1300)
sm.sendDelay(4500)
sm.offSpineScreen("push", 1, "", 1000)
sm.spawnNpc(3003406, -1830, -50)
sm.showNpcSpecialActionByTemplateId(3003406, "summon", 0)
sm.spawnNpc(3003400, 500, -50)
sm.showNpcSpecialActionByTemplateId(3003400, "summon", 0)
sm.hideUser(False)
sm.playSound("Aran/down", 100)
sm.sendDelay(1000)
sm.sendNext("#face1#Ah... ouch...")
sm.sendSay("#face1##b(Why did she push me?)#k")
sm.setInnerOverrideSpeakerTemplateID(3003408) # Researcher
sm.sendSay("#face0##fs20#There's been a horrible accident!")
sm.changeBGM("Bgm25.img/knightsStronghold", 0, 0)
sm.setInnerOverrideSpeakerTemplateID(3003406) # Jean
sm.sendSay("#face1#Accident? That flash of light...")
sm.hideUser(True)
sm.spawnNpc(3003408, -20, -50)
sm.showNpcSpecialActionByTemplateId(3003408, "summon", 0)
sm.spawnNpc(3003451, -100, -50)
sm.showNpcSpecialActionByTemplateId(3003451, "summon", 0)
sm.spawnNpc(3003451, -150, -50)
sm.showNpcSpecialActionByTemplateId(3003451, "summon", 0)
sm.spawnNpc(3003406, -350, -50)
sm.showNpcSpecialActionByTemplateId(3003406, "summon", 0)
sm.zoomCamera(0, 2000, 0, 27, 35)
sm.moveNpcByTemplateId(3003406, False, 400, 200)
sm.blind(False, 0, 0, 0, 0, 2000)
sm.sendDelay(3000)
sm.setInnerOverrideSpeakerTemplateID(3003408) # Researcher
sm.sendNext("#face0#This can't be...")
sm.zoomCamera(5000, 2000, 5000, 600, 35)
sm.blind(False, 0, 0, 0, 0, 2000)
sm.setInnerOverrideSpeakerTemplateID(3003406) # Jean
sm.sendNext("#face1#All those people just... disappeared?")
sm.setInnerOverrideSpeakerTemplateID(3003451) # Soldier
sm.sendSay("#face0#What happened?")
sm.setInnerOverrideSpeakerTemplateID(3003408) # Researcher
sm.sendSay("#face0#I-I don't know. I was told it was an ordinary anti-magic stone!")
sm.setInnerOverrideSpeakerTemplateID(3003451) # Soldier
sm.sendSay("#face0#Hey, look! What's happening over there?")
sm.zoomCamera(300, 2000, 300, 500, 35)
sm.showNpcSpecialActionByTemplateId(3003400, "special6", -1)
sm.sendDelay(6000)
sm.blind(True, 255, 0, 0, 0, 500)
sm.sendDelay(500)
sm.blind(True, 255, 0, 0, 0, 0)
sm.sendDelay(100)
sm.spineScreen(False, False, True, 0, "Map/Effect3.img/morass/spine/tana/skeleton","animation","tana")
sm.playSound("Sound/SoundEff.img/morass/tana_regen", 100)
sm.sendDelay(19000)
sm.sayMonologue("She reformed right there before our eyes.", 0)
sm.sayMonologue("I couldn't look away.", 0)
sm.sayMonologue("She was... beyond human.", 0)
sm.sayMonologue("It was terrifying, but...", 0)
sm.sayMonologue("", 0)
sm.sayMonologue("#bmagnificent.#k", 1)
sm.offSpineScreen("tana", 1, "", 0)
sm.spineScreen(False, True, True, 90000, "Map/Effect3.img/morass/spine/bubble/skeleton","animation","bubble")
sm.playSound("Sound/SoundEff.img/morass/bubble", 100)
sm.sendDelay(2000)
sm.blind(True, 255, 0, 0, 0, 3000)
sm.sendDelay(3300)
sm.moveCamera(True, 0, 0, 0)
sm.offSpineScreen("bubble", 1, "", 1000)
sm.hideUser(False)
sm.lockInGameUI(False, True)
sm.createQuestWithQRValue(34253, "book=1")
sm.completeQuestNoCheck(34253)
sm.warp(450006130)
