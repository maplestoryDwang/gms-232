# id 401100500 (Hidden Street : Foggy Valley), field 401100500
sm.lockInGameUI(True, False)
sm.spawnNpc(3001015, 568, -140)
sm.showNpcSpecialActionByTemplateId(3001015, "summon", 0)
sm.spawnNpc(3000122, 483, 164)
sm.showNpcSpecialActionByTemplateId(3000122, "summon", 0)
sm.spawnNpc(3000122, 413, 164)
sm.showNpcSpecialActionByTemplateId(3000122, "summon", 0)
sm.spawnNpc(3000128, 353, 164)
sm.showNpcSpecialActionByTemplateId(3000128, "summon", 0)
sm.spawnNpc(3000122, 193, 164)
sm.showNpcSpecialActionByTemplateId(3000122, "summon", 0)
sm.spawnNpc(3000122, 103, 164)
sm.showNpcSpecialActionByTemplateId(3000122, "summon", 0)
sm.spawnNpc(3000122, 13, 164)
sm.showNpcSpecialActionByTemplateId(3000122, "summon", 0)
sm.spawnNpc(3000125, -83, 164)
sm.showNpcSpecialActionByTemplateId(3000125, "summon", 0)
sm.setSpeakerType(3)
sm.setSpeakerID(3001015) # Edea
sm.setParam(17)
sm.sendNext("How many more of these Specters do I have to defeat to end this all?")
sm.sendSay("Looks like it's almost over!")
sm.moveCamera(False, 600, 293, 182)
sm.sendDelay(1331)
sm.moveCamera(True, 0, 0, 0)
sm.sendDelay(1000)
sm.sendNext("I did what I could... Hopefully Edea's spell will come soon.")
sm.moveCamera(False, 600, 293, 182)
sm.sendDelay(935)
sm.setParam(1)
sm.sendNext("You did well. We've crippled their armies!")
sm.showNpcSpecialActionByTemplateId(3001015, "HyperMagic", 0)
sm.sendDelay(2280)
sm.showFieldEffect("tdAnbur/idea_hyperMagic", 0)
sm.sendDelay(900)
sm.showNpcSpecialActionByTemplateId(3000122, "hit1", 0)
sm.showNpcSpecialActionByTemplateId(3000122, "hit1", 0)
sm.showNpcSpecialActionByTemplateId(3000128, "hit1", 0)
sm.showNpcSpecialActionByTemplateId(3000122, "hit1", 0)
sm.showNpcSpecialActionByTemplateId(3000122, "hit1", 0)
sm.showNpcSpecialActionByTemplateId(3000122, "hit1", 0)
sm.showNpcSpecialActionByTemplateId(3000125, "hit1", 0)
sm.sendDelay(900)
sm.showNpcSpecialActionByTemplateId(3000122, "hit1", 0)
sm.showNpcSpecialActionByTemplateId(3000122, "hit1", 0)
sm.showNpcSpecialActionByTemplateId(3000128, "hit1", 0)
sm.showNpcSpecialActionByTemplateId(3000122, "hit1", 0)
sm.showNpcSpecialActionByTemplateId(3000122, "hit1", 0)
sm.showNpcSpecialActionByTemplateId(3000122, "hit1", 0)
sm.showNpcSpecialActionByTemplateId(3000125, "hit1", 0)
sm.sendDelay(1800)
sm.completeQuestNoCheck(31830)
sm.lockInGameUI(False, True)
sm.warp(940100001)
