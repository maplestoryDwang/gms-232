# id 940204006 (Morass : Somewhere in Morass), field 940204006
sm.lockInGameUI(True, False)
sm.removeAdditionalEffect()
sm.blind(True, 255, 0, 0, 0, 0)
sm.setMapTaggedObjectVisible("magic_pre", False, 0, 0)
sm.setMapTaggedObjectVisible("magic_start", True, 0, 0)
sm.changeBGM("SoundEff.img/morass/magic_ab", 0, 0)
sm.spawnNpc(3003401, -275, -55)
sm.showNpcSpecialActionByTemplateId(3003401, "summon", 0)
sm.spawnNpc(3003408, -550, 0)
sm.showNpcSpecialActionByTemplateId(3003408, "summon", 0)
sm.spawnNpc(3003408, -450, 0)
sm.showNpcSpecialActionByTemplateId(3003408, "summon", 0)
sm.spawnNpc(3003408, -10, 0)
sm.showNpcSpecialActionByTemplateId(3003408, "summon", 0)
sm.spawnNpc(3003408, 60, 0)
sm.showNpcSpecialActionByTemplateId(3003408, "summon", 0)
sm.spawnNpc(3003404, 220, 0)
sm.showNpcSpecialActionByTemplateId(3003404, "summon", 0)
sm.zoomCamera(0, 256000, 0, -71680, -50945)
sm.showNpcSpecialActionByTemplateId(3003401, "special2", -1)
sm.sendDelay(1000)
sm.setSpeakerType(3)
sm.setParam(37)
sm.setColor(1)
sm.setInnerOverrideSpeakerTemplateID(3003400) # Tana
sm.sendNext("#face9#Auughhh!")
sm.zoomCamera(0, 256000, 0, -70400, -25345)
sm.blind(True, 255, 0, 0, 0, 0)
sm.sendDelay(1200)
sm.blind(False, 0, 0, 0, 0, 1000)
sm.sendDelay(1400)
sm.setParam(57)
sm.sendNext("#b(What are they doing to her?!)#k")
sm.setParam(37)
sm.setInnerOverrideSpeakerTemplateID(3003408) # Researcher
sm.sendSay("#face0#Rejection is nearing critical. ")
sm.setInnerOverrideSpeakerTemplateID(3003404) # Arkarium
sm.sendSay("#face0#Has she reached her regenerative capacity yet? ")
sm.sendDelay(1000)
sm.setInnerOverrideSpeakerTemplateID(3003407) # Hekaton
sm.sendNext("#face0#This is the girl that will bring me immortality?")
sm.zoomCamera(115200, 512000, 115200, 112640, 0)
sm.flipNpcByTemplateId(3003404, False)
sm.flipNpcByTemplateId(3003408, False)
sm.flipNpcByTemplateId(3003408, False)
sm.sendDelay(500)
sm.spawnNpc(3003407, 480, 0)
sm.showNpcSpecialActionByTemplateId(3003407, "summon", 0)
sm.spawnNpc(3003451, 390, 0)
sm.showNpcSpecialActionByTemplateId(3003451, "summon", 0)
sm.spawnNpc(3003451, 590, 0)
sm.showNpcSpecialActionByTemplateId(3003451, "summon", 0)
sm.playSound("Sound/SoundEff.img/blackHeaven/secretmission3", 100)
sm.sendDelay(1000)
sm.changeBGM("Bgm25.img/knightsStronghold", 0, 0)
sm.setParam(57)
sm.sendNext("#b(What is King Hekaton doing here?)#k")
sm.setParam(37)
sm.setInnerOverrideSpeakerTemplateID(3003404) # Arkarium
sm.sendSay("#face0#Y-your majesty...")
sm.moveNpcByTemplateId(3003407, True, 550, 120)
sm.zoomCamera(1280000, 512000, 12800000, -43520, 255)
sm.sendDelay(2500)
sm.flipNpcByTemplateId(3003404, False)
sm.sendDelay(2000)
sm.flipNpcByTemplateId(3003408, False)
sm.sendDelay(1000)
sm.flipNpcByTemplateId(3003408, False)
sm.sendDelay(2000)
sm.setInnerOverrideSpeakerTemplateID(3003407) # Hekaton
sm.sendNext("#face0#You disappoint me, Arkarium. Your progress in these experiments has been far too slow. Raise the intensity.")
sm.setInnerOverrideSpeakerTemplateID(3003404) # Arkarium
sm.sendSay("#face0#But, your majesty, the rejection levels...")
sm.setInnerOverrideSpeakerTemplateID(3003407) # Hekaton
sm.sendSay("#face0##fs22#Do not question your king!")
sm.sendDelay(700)
sm.showNpcSpecialActionByTemplateId(3003407, "special2", 0)
sm.sendDelay(700)
sm.playSound("Sound/SoundEff.img/blackHeaven/metaldrop", 100)
sm.sendDelay(500)
sm.sendNext("#face0##fs22##rRaise the intensity!")
sm.setInnerOverrideSpeakerTemplateID(3003404) # Arkarium
sm.sendSay("#face0#...As you command.")
sm.sendDelay(1500)
sm.showNpcSpecialActionByTemplateId(3003401, "special3", -1)
sm.setInnerOverrideSpeakerTemplateID(3003408) # Researcher
sm.sendNext("#face0#R-rejection is rising!")
sm.setInnerOverrideSpeakerTemplateID(3003400) # Tana
sm.sendSay("#face9#Aauuughh...")
sm.setInnerOverrideSpeakerTemplateID(3003408) # Researcher
sm.sendSay("#face0#We're losing control!")
sm.setInnerOverrideSpeakerTemplateID(3003404) # Arkarium
sm.sendSay("#face0#We must stop the experiment, your majesty! Stand back!")
sm.setInnerOverrideSpeakerTemplateID(3003407) # Hekaton
sm.sendSay("#face0##fs22#Do not stop the experiment!")
sm.setInnerOverrideSpeakerTemplateID(3003400) # Tana
sm.sendSay("#face9#Nnngh!")
sm.setInnerOverrideSpeakerTemplateID(3003408) # Researcher
sm.sendSay("#face0##fs22#RUN!")
sm.sendDelay(300)
sm.moveNpcByTemplateId(3003408, True, 200, 200)
sm.moveNpcByTemplateId(3003408, True, 200, 200)
sm.moveNpcByTemplateId(3003408, False, 300, 200)
sm.moveNpcByTemplateId(3003408, False, 300, 200)
sm.showNpcSpecialActionByTemplateId(3003401, "special4", 0)
sm.sendDelay(700)
sm.playSound("Sound/SoundEff.img/morass/tana2", 100)
sm.sendDelay(1000)
sm.blind(True, 255, 240, 240, 240, 1300)
sm.sendDelay(1600)
sm.sendDelay(2000)
sm.sendDelay(2000)
sm.zoomCamera(0, 256000, 0, -64000, -25345)
sm.resetNpcSpecialActionByTemplateId(3003401)
sm.flipNpcByTemplateId(3003408, False)
sm.flipNpcByTemplateId(3003408, False)
sm.flipNpcByTemplateId(3003408, True)
sm.flipNpcByTemplateId(3003408, True)
sm.blind(False, 0, 0, 0, 0, 1000)
sm.sendDelay(1000)
sm.sendNext("#face0#T-that was a close call.")
sm.sendSay("#face0#Is his majesty safe?")
sm.showNpcSpecialActionByTemplateId(3003407, "special1", 0)
sm.sendDelay(1000)
sm.sendNext("#face0#The king's body...")
sm.sendSay("#face0#How did he survive?")
sm.sendSay("#face0#Is he even human?")
sm.sendDelay(1000)
sm.resetNpcSpecialActionByTemplateId(3003401)
sm.setInnerOverrideSpeakerTemplateID(3003407) # Hekaton
sm.sendNext("#face0#Arkarium... the day of my planned ascendancy approaches.")
sm.setInnerOverrideSpeakerTemplateID(3003404) # Arkarium
sm.sendSay("#face0#I...")
sm.sendDelay(500)
sm.showFadeTransition(0, 1000, 1500)
sm.zoomCamera(0, 768000, 0, -25600, 10495)
sm.flipNpcByTemplateId(3003407, False)
sm.setInnerOverrideSpeakerTemplateID(3003407) # Hekaton
sm.sendNext("#face0#Use any means necessary to ensure it is a success. ")
sm.sendSay("#face0#If you fail me again...")
sm.playSound("Sound/SoundEff.img/blackHeaven/secretmission3", 100)
sm.sendSay("#face0#You may not live long enough to regret it.")
sm.sendDelay(1500)
sm.showFadeTransition(0, 500, 500)
sm.zoomCamera(0, 256000, 0, -70400, -25345)
sm.sendDelay(500)
sm.blind(True, 255, 0, 0, 0, 500)
sm.sendDelay(500)
sm.sendDelay(1000)
sm.setInnerOverrideSpeakerTemplateID(3003408) # Researcher
sm.sendNext("#face0#Why can't we find the solution?")
sm.sendSay("#face0#It doesn't matter. This is the last time we'll ever be in this horrible place.")
sm.sendSay("#face0#The test subject will vanish regardless of whether the King's Ascendancy succeeds or fails tomorrow.")
sm.sendDelay(1000)
sm.setInnerOverrideSpeakerTemplateID(3003400) # Tana
sm.sendNext("#face0#I...")
sm.setParam(57)
sm.sendSay("#b(The book... What's in the journal?)#k")
sm.sendDelay(1000)
sm.moveCamera(True, 0, 0, 0)
sm.lockInGameUI(False, True)
sm.createQuestWithQRValue(34261, "book=1")
sm.completeQuestNoCheck(34261)
sm.warp(450006240)
