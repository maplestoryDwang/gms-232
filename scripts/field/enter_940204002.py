# id 940204002 (Morass : Path to the Coral Forest), field 940204002
sm.lockInGameUI(True, False)
sm.removeAdditionalEffect()
sm.blind(True, 255, 0, 0, 0, 0)
sm.spawnNpc(3003405, 1510, -300)
sm.showNpcSpecialActionByTemplateId(3003405, "summon", 0)
sm.spawnNpc(3003409, 850, -300)
sm.showNpcSpecialActionByTemplateId(3003409, "summon", 0)
sm.spawnNpc(3003400, 1670, -300)
sm.showNpcSpecialActionByTemplateId(3003400, "summon", 0)
sm.zoomCamera(0, 2000, 0, 870, -100)
sm.blind(True, 255, 0, 0, 0, 0)
sm.sendDelay(1200)
sm.blind(False, 0, 0, 0, 0, 1000)
sm.sendDelay(1400)
sm.setSpeakerType(3)
sm.setParam(37)
sm.setColor(1)
sm.setInnerOverrideSpeakerTemplateID(3003409) # Flying Fish
sm.sendNext("#face0#She's directly ahead.")
sm.zoomCamera(500, 2000, 500, 1620, -170)
sm.sendDelay(900)
sm.changeBGM("SoundEff.img/morass/magic_ab", 0, 0)
sm.setParam(57)
sm.sendNext("Isn't that Arkarium?! Who's that next to him?")
sm.setParam(37)
sm.setInnerOverrideSpeakerTemplateID(3003400) # Tana
sm.sendSay("#face15#Auugh...")
sm.showNpcSpecialActionByTemplateId(3003400, "special5", -1)
sm.sendDelay(950)
sm.setInnerOverrideSpeakerTemplateID(3003405) # Arkarium
sm.sendNext("#face0#Your mental state appears to be deteriorating.")
sm.setInnerOverrideSpeakerTemplateID(3003400) # Tana
sm.sendSay("#face18#Who... uugh... Who are you? Who am I? Augh... Why do I hurt?")
sm.setInnerOverrideSpeakerTemplateID(3003405) # Arkarium
sm.sendSay("#face0#Your name is Tana. Do not fear. The Great One is waiting for you. He can keep you from pain if you share your power with him.")
sm.setInnerOverrideSpeakerTemplateID(3003400) # Tana
sm.sendSay("#face18#The Great One... You mean the Black Mage? Yes... I remember. But, didn't he seal me away?")
sm.setInnerOverrideSpeakerTemplateID(3003405) # Arkarium
sm.sendSay("#face0#He did. But it was for your own safety. In sealing you away, he saved you from unbearable pain and eventual madness. You should be grateful to him.")
sm.sendSay("#face0#But we've already been through this many times.")
sm.sendSay("#face0#We don't have time to repeat it again.")
sm.setInnerOverrideSpeakerTemplateID(3003409) # Flying Fish
sm.sendSay("#face0#They're going to get away! Can you catch up to them?\r\nI'll explain more later, but we must get that girl away from Arkarium now! She doesn't understand the damage she could do!")
sm.setParam(57)
sm.sendSay("I'll do my best.")
sm.zoomCamera(500, 1500, 500, 1300, -170)
sm.sendNext("Arkarium!! Stop right there!")
sm.flipNpcByTemplateId(3003405, True)
sm.flipNpcByTemplateId(3003400, True)
sm.setParam(37)
sm.setInnerOverrideSpeakerTemplateID(3003405) # Arkarium
sm.sendSay("#face0##h0#?! What are you doing following me? How dare you interfere!")
sm.changeBGM("Bgm35.img/Hekaton", 0, 0)
sm.setInnerOverrideSpeakerTemplateID(3003400) # Tana
sm.sendSay("#face18#Interference? No. Auugh... NO! ")
sm.showNpcSpecialActionByTemplateId(3003400, "special2", -1)
sm.setParam(57)
sm.sendSay("Whoa. Why is the river's current is getting stronger?! What's going on?")
sm.setParam(37)
sm.setInnerOverrideSpeakerTemplateID(3003409) # Flying Fish
sm.sendSay("#face0#It's Tana. She's scared, and her power is unbelievably strong.\r\nShe's affecting everything in the area. I can barely withstand her influence.")
sm.setParam(57)
sm.sendSay("How is she doing it?!")
sm.sendDelay(2600)
sm.sendNext("And where did that castle come from?!")
sm.sendDelay(300)
sm.resetNpcSpecialActionByTemplateId(3003400)
sm.showNpcSpecialActionByTemplateId(3003400, "special3", -1)
sm.showFadeTransition(0, 1000, 3000)
sm.zoomCamera(0, 1645, 0, 1680, -220)
sm.removeOverlapScreen(500)
sm.sendDelay(1000)
sm.setParam(37)
sm.setInnerOverrideSpeakerTemplateID(3003400) # Tana
sm.sendNext("#face19#Trueffet? How can I still be here? No!")
sm.flipNpcByTemplateId(3003405, False)
sm.setInnerOverrideSpeakerTemplateID(3003405) # Arkarium
sm.sendSay("#face0#Not again!")
sm.setInnerOverrideSpeakerTemplateID(3003409) # Flying Fish
sm.sendSay("#face0#She's regressing. We need to get out of here, or we'll get caught in her memory loop!")
sm.setParam(57)
sm.sendSay("How?")
sm.hideUser(True)
sm.showNpcSpecialActionByTemplateId(3003400, "special4", 0)
sm.sendDelay(300)
sm.sendDelay(1300)
sm.sendDelay(700)
sm.sendDelay(300)
sm.showNpcSpecialActionByTemplateId(3003405, "special", -1)
sm.playSound("Sound/SoundEff.img/morass/tana2", 100)
sm.blind(True, 255, 240, 240, 240, 1300)
sm.sendDelay(600)
sm.sendDelay(5000)
sm.bgmVolume(0, 2500)
sm.blind(False, 0, 0, 0, 0, 1000)
sm.resetNpcSpecialActionByTemplateId(3003400)
sm.sendDelay(1500)
sm.changeBGM("Bgm00.img/Silence", 0, 0)
sm.setParam(37)
sm.setInnerOverrideSpeakerTemplateID(3003405) # Arkarium
sm.sendNext("#face0#Auuugh!")
sm.resetNpcSpecialActionByTemplateId(3003405)
sm.sendSay("#face0#This power is... too much... You must maintain control or yourself, Tana.")
sm.setInnerOverrideSpeakerTemplateID(3003400) # Tana
sm.sendSay("#face15#Gasp... huff...")
sm.setInnerOverrideSpeakerTemplateID(3003405) # Arkarium
sm.sendSay("#face0#Have you managed to calm your mind again?")
sm.setInnerOverrideSpeakerTemplateID(3003400) # Tana
sm.sendSay("#face15#I- I think so. But that castle. That can't be real...")
sm.setInnerOverrideSpeakerTemplateID(3003405) # Arkarium
sm.sendSay("#face0#It is at once real and not real. Your mind has made it real. Now, come with me.")
sm.setInnerOverrideSpeakerTemplateID(3003400) # Tana
sm.sendSay("#face15#No! I...")
sm.showFadeTransition(0, 1000, 3000)
sm.zoomCamera(0, 1000, 2147483647, 2147483647, 2147483647)
sm.moveCamera(True, 0, 0, 0)
sm.sendDelay(300)
sm.removeOverlapScreen(1000)
sm.createQuestWithQRValue(34271, "20=h0;21=h0;30=h0;31=h0;32=h0;33=h0;34=h0;35=h0;36=h0;29=h1")
sm.createQuestWithQRValue(34252, "enter=1")
sm.completeQuestNoCheck(34252)
sm.moveCamera(True, 0, 0, 0)
sm.lockInGameUI(False, True)
sm.warp(450006040)
