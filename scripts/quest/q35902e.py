# id 35902 (Find Altar Key 3), field 910090302
sm.lockInGameUI(True, False)
sm.removeAdditionalEffect()
sm.blind(True, 255, 0, 0, 0, 250)
sm.sendDelay(250)
sm.forcedFlip(True)
sm.sendDelay(1500)
sm.forcedFlip(False)
sm.blind(True, 255, 0, 0, 0, 0)
sm.sendDelay(1200)
sm.blind(False, 0, 0, 0, 0, 1000)
sm.sendDelay(1400)
sm.setSpeakerID(1013305) # Ancient Crate
sm.setParam(549)
sm.setColor(1)
sm.setInnerOverrideSpeakerTemplateID(1013358) # Pathfinder
res = sm.sendNext("#face0##g“靠近时会让人受伤的善变的舞蹈家。”\r\n“跳着红色之舞，留下黑色的脚印。”’#k\r\n放到刻着这个谜题正确答案的柱子上吧。\r\n#b#L0# 云 #l\\u3000#L1# 火 #l\\u3000#L2# 月光#l")
if res != 1:
    sm.setSpeakerType(3)
    sm.sendNext("#face0##b（随着咯嘚嘚的声音，箱子的底打开了。\r\n可以看到里面有个什么东西在闪闪发光。）#k")
    sm.showFadeTransition(0, 1000, 3000)
    sm.zoomCamera(0, 1000, 2147483647, 2147483647, 2147483647)
    sm.moveCamera(True, 0, 0, 0)
    sm.sendDelay(300)
    sm.removeOverlapScreen(1000)
    sm.moveCamera(True, 0, 0, 0)
    sm.lockInGameUI(False, True)
else:
    sm.setSpeakerType(3)
    sm.sendNext("#face3#没有发生任何事。\r\n……这个好像不是正确答案。")
    sm.sendSay("#face3#这是……")
    sm.sendDelay(1500)
    sm.playSound("Sound/SoundEff.img/pathfinder/key", 100)
    sm.onLayer(500, "00", 0, 0, 1, "Effect/Direction22.img/effect/PF_key/0", 4, False, -1, False)
    sm.sendDelay(1000)
    sm.offLayer(550, "00", False)
    sm.onLayer(300, "01", 0, 0, 1, "Effect/Direction22.img/effect/PF_key/1", 4, False, -1, False)
    sm.sendDelay(1000)
    sm.onLayer(500, "02", 0, 0, 1, "Effect/Direction22.img/effect/PF_key/2", 4, False, -1, False)
    sm.offLayer(300, "01", False)
    sm.sendDelay(1000)
    sm.offLayer(550, "02", False)
    sm.sendNext("#face1#啊哈，最后一把祭坛钥匙原来就在这里。\r\n呼……幸亏看了一眼谜题的内容。")
    sm.sendDelay(500)
    sm.sendNext("#face1#三把钥匙全部找到了。那接下来要做的事情……\r\n是的，就是把钥匙插在祭坛上。")
    sm.sendSay("#face3#钥匙又开始发光了。在光指向的地方一定有什么东西。\r\n一定没错。祭坛所在的地方就是那里。")
    sm.forcedMove(False, 200)
    sm.sendDelay(1000)
    sm.blind(True, 255, 0, 0, 0, 500)
    sm.sendDelay(500)
    sm.sendDelay(4500)
    sm.createFieldTextEffect("#fnArial##fs18#Moments Later, Somewhere in the Partem Ruins", 100, 1000, 6, -50, -50, 1, 4, 0, 0, 0)
    sm.sendNext("#fn黑体##fs18#片刻之后，帕勒坦遗迹某处")
    sm.bgmVolume(0, 1500)
    sm.sendDelay(1500)
    sm.changeBGM("Bgm00.img/Silence", 0, 0)
    sm.bgmVolume(-2, 300)
    sm.sendDelay(300)
    sm.sendDelay(1000)
    sm.showFadeTransition(0, 1000, 3000)
    sm.zoomCamera(0, 1000, 2147483647, 2147483647, 2147483647)
    sm.moveCamera(True, 0, 0, 0)
    sm.sendDelay(300)
    sm.removeOverlapScreen(1000)
    sm.moveCamera(True, 0, 0, 0)
    sm.lockInGameUI(False, True)
    sm.warp(910090304)
